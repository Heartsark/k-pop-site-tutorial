<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J-POP 소개</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">음악 세계</div>
        <ul class="nav-links">
            <li><a href="index.html">K-POP</a></li>
            <li><a href="jpop.html" class="active">J-POP</a></li>
            <li><a href="american.html">미국 POP</a></li>
            <li><a href="spanish.html">스페인 POP</a></li>
        </ul>
    </nav>

    <!-- Swiper -->
    <div class="swiper-container">
        <div class="swiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="slide-content">
                        <img src="https://images.unsplash.com/photo-1480796927426-f609979314bd" alt="일본 도시">
                        <div class="slide-text">
                            <h2>일본의 음악 문화</h2>
                            <p>전통과 현대가 조화를 이루는 J-POP</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="slide-content">
                        <img src="https://images.unsplash.com/photo-1542051841857-5f90071e7989" alt="일본 거리">
                        <div class="slide-text">
                            <h2>애니메이션과 음악</h2>
                            <p>애니메이션 문화와 함께 발전한 J-POP</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="slide-content">
                        <img src="https://images.unsplash.com/photo-1528360983277-13d401cdc186" alt="일본 공연장">
                        <div class="slide-text">
                            <h2>라이브 하우스 문화</h2>
                            <p>소규모 공연장에서 시작되는 음악의 여정</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="slide-content">
                        <img src="https://images.unsplash.com/photo-1492571350019-22de08371fd3" alt="도쿄 야경">
                        <div class="slide-text">
                            <h2>도시 팝 컬처</h2>
                            <p>현대 도시 문화와 함께하는 J-POP</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </div>

    <div class="container">
        <section class="intro-section">
            <h1>J-POP의 세계</h1>
            <p>J-POP은 일본의 대중음악을 대표하는 장르로, 1990년대부터 독특한 멜로디와 세련된 프로덕션으로 아시아 음악 시장을 선도해왔습니다. 애니메이션 음악과의 긴밀한 관계, 다양한 하위 장르의 발전이 특징입니다.</p>
        </section>

        <section class="venue-section">
            <h2>주요 공연장</h2>
            <div class="venue-container">
                <div class="venue-list">
                    <div class="venue-item" data-lat="35.6762" data-lng="139.6503" data-name="부도칸">
                        <h3>부도칸</h3>
                        <p>도쿄도 치요다구 기타노마루공원</p>
                    </div>
                    <div class="venue-item" data-lat="35.6277" data-lng="139.7649" data-name="제프 도쿄">
                        <h3>제프 도쿄</h3>
                        <p>도쿄도 고토구 아오미</p>
                    </div>
                    <div class="venue-item" data-lat="35.6813" data-lng="139.7651" data-name="도쿄돔">
                        <h3>도쿄돔</h3>
                        <p>도쿄도 분쿄구 고라쿠</p>
                    </div>
                    <div class="venue-item" data-lat="35.6695" data-lng="139.7016" data-name="시부야 클럽 쿼터">
                        <h3>시부야 클럽 쿼터</h3>
                        <p>도쿄도 시부야구</p>
                    </div>
                </div>
                <div id="map" class="venue-map"></div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="social-links">
            <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
            <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
            <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
        </div>
        <div class="footer-info">
            <p>&copy; 2024 음악 세계. All rights reserved.</p>
            <p>Contact: info@musicworld.com</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Swiper 초기화
        const swiper = new Swiper('.swiper', {
            // 기본 설정
            slidesPerView: 1,
            spaceBetween: 30,
            loop: true,
            speed: 1000,
            
            // 자동 재생 설정
            autoplay: {
                delay: 6000,
                disableOnInteraction: false,
                pauseOnMouseEnter: true,
                waitForTransition: true,
            },

            // 페이드 효과
            effect: 'fade',
            fadeEffect: {
                crossFade: true
            },
            
            // 페이지네이션
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
                renderBullet: function (index, className) {
                    return '<span class="' + className + ' swiper-pagination-custom"></span>';
                }
            },

            // 키보드 컨트롤
            keyboard: {
                enabled: true,
                onlyInViewport: true,
            },
        });

        // 페이지 포커스 복귀 시 자동 재생 재시작
        document.addEventListener('visibilitychange', function() {
            if (document.visibilityState === 'visible') {
                swiper.autoplay.start();
            }
        });

        // 마우스가 슬라이더를 벗어날 때 자동 재생 재시작
        document.querySelector('.swiper').addEventListener('mouseleave', function() {
            swiper.autoplay.start();
        });

        // 지도 초기화
        const map = L.map('map').setView([35.6762, 139.6503], 12);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // 공연장 마커 추가
        const venues = document.querySelectorAll('.venue-item');
        const markers = {};

        venues.forEach(venue => {
            const lat = parseFloat(venue.dataset.lat);
            const lng = parseFloat(venue.dataset.lng);
            const name = venue.dataset.name;
            
            const marker = L.marker([lat, lng])
                .bindPopup(name)
                .addTo(map);
            
            markers[name] = marker;

            // 공연장 항목 클릭 이벤트
            venue.addEventListener('click', () => {
                map.setView([lat, lng], 15);
                marker.openPopup();
                
                // 활성 상태 표시
                venues.forEach(v => v.classList.remove('active'));
                venue.classList.add('active');
            });
        });

        // 마커 클릭 이벤트
        Object.entries(markers).forEach(([name, marker]) => {
            marker.on('click', () => {
                const venue = Array.from(venues).find(v => v.dataset.name === name);
                if (venue) {
                    venues.forEach(v => v.classList.remove('active'));
                    venue.classList.add('active');
                    venue.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }
            });
        });
    </script>
</body>
</html>