<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-POP 소개</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">음악 세계</div>
        <ul class="nav-links">
            <li><a href="index.html" class="active">K-POP</a></li>
            <li><a href="jpop.html">J-POP</a></li>
            <li><a href="american.html">미국 POP</a></li>
            <li><a href="spanish.html">스페인 POP</a></li>
        </ul>
    </nav>

    <!-- Swiper -->
    <div class="swiper-container">
        <div class="swiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="slide-content">
                        <img src="https://images.unsplash.com/photo-1681844931547-54cb3b437909" alt="K-pop 콘서트">
                        <div class="slide-text">
                            <h2>글로벌 현상, K-POP</h2>
                            <p>세계를 사로잡은 한국의 대중음악</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="slide-content">
                        <img src="https://images.unsplash.com/photo-1611926653458-09294b3142bf" alt="K-pop 댄스">
                        <div class="slide-text">
                            <h2>퍼포먼스의 혁신</h2>
                            <p>완벽한 안무와 화려한 무대</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="slide-content">
                        <img src="https://images.unsplash.com/photo-1619983081563-430f63602796" alt="K-pop 팬미팅">
                        <div class="slide-text">
                            <h2>팬 문화의 진화</h2>
                            <p>전 세계 팬들과 함께하는 K-POP</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="slide-content">
                        <img src="https://images.unsplash.com/photo-1516450360452-9312f5e86fc7" alt="K-pop 음반">
                        <div class="slide-text">
                            <h2>음악 산업의 새로운 기준</h2>
                            <p>혁신적인 음악과 비주얼의 조화</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </div>

    <div class="container">
        <section class="intro-section">
            <h1>K-POP의 세계</h1>
            <p>K-POP은 대한민국의 대중음악을 지칭하는 용어로, 1990년대 이후 독특한 음악 스타일과 퍼포먼스로 전 세계적인 인기를 얻고 있습니다. 화려한 퍼포먼스, 중독성 있는 멜로디, 세련된 프로덕션이 특징입니다.</p>
        </section>

        <section class="venue-section">
            <h2>주요 공연장</h2>
            <div class="venue-container">
                <div class="venue-list">
                    <div class="venue-item" data-lat="37.5282" data-lng="127.1284" data-name="잠실종합운동장">
                        <h3>잠실종합운동장</h3>
                        <p>서울특별시 송파구 올림픽로 25</p>
                    </div>
                    <div class="venue-item" data-lat="37.5273" data-lng="126.9324" data-name="고척스카이돔">
                        <h3>고척스카이돔</h3>
                        <p>서울특별시 구로구 경인로 430</p>
                    </div>
                    <div class="venue-item" data-lat="37.5115" data-lng="127.0595" data-name="올림픽공원">
                        <h3>올림픽공원</h3>
                        <p>서울특별시 송파구 올림픽로 424</p>
                    </div>
                    <div class="venue-item" data-lat="37.5139" data-lng="127.1027" data-name="샤롯데씨어터">
                        <h3>샤롯데씨어터</h3>
                        <p>서울특별시 송파구 올림픽로 240</p>
                    </div>
                </div>
                <div id="map" class="venue-map"></div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="social-links">
            <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
            <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
            <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
        </div>
        <div class="footer-info">
            <p>&copy; 2024 음악 세계. All rights reserved.</p>
            <p>Contact: info@musicworld.com</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Swiper 초기화
        const swiper = new Swiper('.swiper', {
            // 기본 설정
            slidesPerView: 1,
            spaceBetween: 30,
            loop: true,
            speed: 1000,
            
            // 자동 재생 설정
            autoplay: {
                delay: 6000,
                disableOnInteraction: false,
                pauseOnMouseEnter: true,
                waitForTransition: true,
            },

            // 페이드 효과
            effect: 'fade',
            fadeEffect: {
                crossFade: true
            },
            
            // 페이지네이션
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
                renderBullet: function (index, className) {
                    return '<span class="' + className + ' swiper-pagination-custom"></span>';
                }
            },

            // 키보드 컨트롤
            keyboard: {
                enabled: true,
                onlyInViewport: true,
            },
        });

        // 페이지 포커스 복귀 시 자동 재생 재시작
        document.addEventListener('visibilitychange', function() {
            if (document.visibilityState === 'visible') {
                swiper.autoplay.start();
            }
        });

        // 마우스가 슬라이더를 벗어날 때 자동 재생 재시작
        document.querySelector('.swiper').addEventListener('mouseleave', function() {
            swiper.autoplay.start();
        });

        // 지도 초기화
        const map = L.map('map').setView([37.5282, 127.1284], 12);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // 공연장 마커 추가
        const venues = document.querySelectorAll('.venue-item');
        const markers = {};

        venues.forEach(venue => {
            const lat = parseFloat(venue.dataset.lat);
            const lng = parseFloat(venue.dataset.lng);
            const name = venue.dataset.name;
            
            const marker = L.marker([lat, lng])
                .bindPopup(name)
                .addTo(map);
            
            markers[name] = marker;

            // 공연장 항목 클릭 이벤트
            venue.addEventListener('click', () => {
                map.setView([lat, lng], 15);
                marker.openPopup();
                
                // 활성 상태 표시
                venues.forEach(v => v.classList.remove('active'));
                venue.classList.add('active');
            });
        });

        // 마커 클릭 이벤트
        Object.entries(markers).forEach(([name, marker]) => {
            marker.on('click', () => {
                const venue = Array.from(venues).find(v => v.dataset.name === name);
                if (venue) {
                    venues.forEach(v => v.classList.remove('active'));
                    venue.classList.add('active');
                    venue.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }
            });
        });
    </script>
</body>
</html>